{style}
{literal}

.ow_photo_holder {
    border-bottom-width: 1px;
    position: relative;
    width: 100%;
    overflow: hidden;
    background-color: #292929;
}

.ow_photo_stage {
    min-width: 600px;
    min-height: 400px;
    text-align: center;
    position: relative;
    height: 400px;
}

.ow_photo_img {
    display: -moz-inline-box;
    display: inline-block;
    vertical-align: middle;
    zoom: 1;
    //display: inline;
    overflow: hidden;
}

.ow_photo_helper {
    display: -moz-inline-box;
    display: inline-block;
    vertical-align: middle;
    height: 100%;
    width: 0px;
    zoom: 1;
    //display: inline;
}

.ow_photo_holder .ow_photo_img { max-width: {/literal}{$widthConfig}{literal}px; }

.ow_photo_preload {
    display: none;
    position: absolute;
    top: 0px;
    width: 100%;
    height: 100%;
}

.ow_photo_preload .ow_floatbox_preloader{
	margin:33px auto 0 auto;
}

.ow_photo_nav_l{
    position: absolute;
    display: none;
    top: 0px;
    left: 20px;
    width: 15%;
    height: 100%;
    text-align: left;
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAYdJREFUeNrsmdFKwzAUhrcaWkQURLwQ0bfxAVrKKOIT+GS99w3UTZkPIeL1GGwMcejqHziRkgtLbdqTwAn8NGvp6f81OZwmG1dVNQq5RaPAmwAIgAAIgAAIQNBN/ffGoijavCT9nD36/Q19QbuyLPkAWphPoCNoX5uG1tAG2vo+hYz5E+gSb/sVekP/sDYa3gLUzV/A+LyvZ0YDmJ+ZC1mWTXD4oDzwEuAv89dxHD+hu6Ik9g6gyfwDugvok5LZKwAW864A2My7AGA13xWA3XxXAEUV9twyfzOU+a4AupoewPyzOZGm6S3Mv6C7HMK88zqQJMl7SJ/TuppuMGV+P0sxGnc4nELHlB+RzwC6mq4wZaY6aWsQjzqpKbl7h+gSfEfzfKGT1oKYDQXRNTA7hIugrBCuArJBuAzGAuF6SJsgzqh6K18BmiDmtLj3fk1sQ0ysa/z7Qi0h7vM8v9LnlFJrl2vivveFDMQSxqfWxlYQAAZi21fwsfxLKQACIAACIAACwNh+BBgASrS6BiLKro0AAAAASUVORK5CYII=") no-repeat 0px center;
}

.ow_photo_nav_l:hover{
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAASVJREFUeNrs2D0KwkAQBeC4BIzY2HkBG629h9tIbuAV7G29SNAqF7EUC/u0ISBi5xtIEdI6M+vADLyw5ftCfjaZlGWZYRbIHln163+eFnkiV1rnOCyRIzLPbAyd4C2yRs4Bh2io/HCo8y70EquzIcDMMGAaMuPjAAc4wAEOsAGoqupAMQmQKK4GGJaPMV5MAcbli6JozQA0yosBtMqLADTLswO0y7MCUpRnA6QqzwJIWZ79HtAuzwIYvl0ltwxiADrrKRGB69JJhQic138KBPtNrI1g30poI0Q2c5oIse20FkL0g0YDIf5JOUZwT67xqBsisLYHkNwn+Y8tBzjAAQ74GfA23P9DgIdhwJ0ANfIyWJ461wRokBNyQzoDxbu+K3VuvgIMANp3e8ZBdRtiAAAAAElFTkSuQmCC") no-repeat 0px center;
}

.ow_photo_nav_r{
    position: absolute;
    display: none; 
    top: 0px;
    right: 20px; 
    height: 100%; 
    width: 75%;
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAYxJREFUeNrsmVFKw0AQhtNtSBCpIOKDSL2MJ0gIEoon8GR59wi1reijBxDxWYRKKUpt/AcmEPKkdmfShVn4SWlh+L/d2e7MZlDXdRTycFHgwwAMwAAMwAAMIOgR+wpUlqXjeEP+6hvaQNvfxqiqqj8AjnUIjXhl19AS+vwLRJ8pRDM/wiy+QM/4fAGdQKlkqjqpeIB4wGMsDeEzKOX8Os/zqxbEXBrCZ0DasMskSRaAmGhB+Ay25Q37BoipFoTvJVWHkNhYqhBSf29qEJKlhAqEdC3UhbjuQJxDR7tUBBrFXAPxDojHLMtuWhD3XH4Mg6lG0zR9Da2cdpznx9ApZv22+QEpVeKx4lN8LwEa87RZxzB/1zI/QUrNuGLd7CNA1/y8Y35Km3vXctuFbF4KQM28VD+gZt43gLp53wAxn6pnWuYleuIDbiVVzPu+lYjaBqm1pO5M0rxvADpNP4qiuKSVhfknjWsVnwB0mq7iOF7892KrbwAy+qVdHA7sLaUBGIABGIABGECP40eAAQAxt7kh6VQqKQAAAABJRU5ErkJggg==") no-repeat right center;
}

.ow_photo_nav_r:hover{
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAASFJREFUeNrs1zEKwkAQBdC4BIzY2HkBG629h9tIbuAV7G29SNAqF7EUC/u0IRDEzhlIEazzvxmZgR9S/peNZneS53kis5DsJavufsxTS56Sq96ncllKjpJ5YmP0AW8la8k5yCUaKt8f7bwLncTqbBQwMwyYhsT4OMABDnCAA8YFKIrioDG/AizE4IAY44WJGByQZVnNREBeISYC9htgIaB/owwE/DuARlA+ZEgE7UuMQlC3EggEfS+kCNObuf5T76+GCcB3+SFWI1guTwOgylMAyPJwALo87UCDKg8DsMrDzsSs8tBXiFFeJ0WdiRnlIQBW8Z/thRzgAAc44P8AL8P93wp4GAbcFVBKWoPltXOpgEpyktwkjYHiTddVO1cfAQYARnR7rvJZ1vYAAAAASUVORK5CYII=") no-repeat right center;
}

.ow_photo_info{
    padding: 8px;
}

.ow_photo_hover_info{
    position: absolute; 
    bottom: 0px;
    left: 0px;
    right: 0px;
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0RkM1MzI2NTZBQTQxMUUxQUZFQjlFQTIzNDdGQkJCNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0RkM1MzI2NjZBQTQxMUUxQUZFQjlFQTIzNDdGQkJCNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjRGQzUzMjYzNkFBNDExRTFBRkVCOUVBMjM0N0ZCQkI1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjRGQzUzMjY0NkFBNDExRTFBRkVCOUVBMjM0N0ZCQkI1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7O636QAAACdJREFUeNpiZGBg8GKgAWBioBEYNXjU4FGDRw0eNXjU4JFiMECAAQDk3AB2NinTlAAAAABJRU5ErkJggg==") repeat 0 0;
    display: none;
}

.ow_photo_hover_info_item{
    padding: 5px 8px;
    display: inline-block;
    color: #fff;
}

.ow_photo_hover_info a{
    color: #fff;
    font-weight: bold;
}

.ow_photo_hover_zoom {
    display: inline-block;
    width: 32px;
    height: 28px;
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAARCAYAAAACCvahAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgBJREFUeNqMUz1IQlEUfj+VNVjSICGYkwRpU9QkCEFLtkSDLlE2uFgQNEQtOkRDS0ORNARBi1MiRUtE5BCE1iIVtYiIEihoPaOHqK/v2DXes6gOfO+ee+537nfuvefxbrebIwuHw10YFoAZYIj7tCRwCOx4PJ53rsV4SkZiP/yTWq0mZrPZg2Qy+UCLNpttwGw2z4uiSNNJbJDSJCuK0gHcSJJ0GwwGN3K53DPiMlvvNJlMfYiv6fX6EZ7nh9UVCEhcqlQqss/nW0HiE2IvqEQmkE8xWgPnFdxFtbJQr9dn0+n0LnxSVLjvRrFncPaIq15oEwTBWigULtilaZKbc5TKE8dqte5plOmDoMz9YT9x2qrVaspgMIzAP4bCIFO8Z4qDTSJxiKtRLhaLRyh9mc0fGLjWOThL4EY1ytFoNOT1eqehton5KtRqakXE6ZHXgTFZlrc1daNJhEgk4kRJj3iKa8AF9DC4WKxhuO0XDKPUWAS6sDp2vwoEAlP5fP4ci1uIlQjkl0qlG4xSo6N4vhv+GfijX+3Z7Dagl+4G6GCxCiD5/X6nw+HYR7K+8fCK8gp/XLTb7epTUOsVgQID+W/xeDxlNBrvLBbLBJJ0BGwwLnD/s/dQKHQai8Xm6NwUyGQy+63Kv1k1kUik8IPclsvlS9zRgfrM/zUd0A6UPwQYAABZHIpk3t3UAAAAAElFTkSuQmCC") no-repeat center center;
}

.ow_photo_info_fix{
    max-width: 725px;
    margin: 0px auto;
}

.ow_photo_info_name{
    margin-left: 45px;
    padding-left: 10px;    
}

.ow_photo_info .ow_avatar{
    float:left;
    margin-right: -45px;
}

.ow_photo_context_action {
    position: absolute;
    top: 10px; 
    right: 10px;
    display: none;
}

{/literal}
{/style}

<div id="ow-photo-view">
<div class="ow_photo_holder ow_border">
    <div class="ow_photo_stage"><img src="{$url}" class="ow_photo_img" /><div class="ow_photo_helper"></div></div>
    
    <div class="ow_photo_context_action">{$contextAction}</div>
    
    {if $previousPhoto}<a class="ow_photo_nav_l" href="javascript://" rel="{$previousPhoto.dto->id}"></a>{/if}
    {if $nextPhoto}<a class="ow_photo_nav_r" href="javascript://" rel="{$nextPhoto.dto->id}"></a>{/if}
    
    <div class="ow_photo_hover_info">
        <div class="ow_photo_hover_info_l ow_left ow_hover">
            <span class="ow_photo_hover_info_item">
                {capture name='url'}{url_for_route for="photo_user_album:[user=>$ownerName, album=>`$album->id`]"}{/capture}
                <a href="{$smarty.capture.url}">{$album->name|truncate:60}</a>: 
                {$photoIndex} {text key='photo+of'} {$photoCount}
            </span>
        </div>
        
        {if $fullsizeUrl}
        <div class="ow_photo_hover_info_r ow_right">
            <a class="ow_photo_hover_zoom" href="{$fullsizeUrl}" target="_blank" title="{text key='photo+view_fullsize'}"></a>
        </div>
        {/if}
    </div>
    <div class="ow_photo_preload"></div>
</div>

<div class="ow_photo_info">
    <div class="ow_photo_info_fix clearfix">
        <div class="ow_left ow_superwide ow_break_word">
            {if $photo->description}<p id="photo-description" class="ow_smallmargin">{$photo->description}</p>{/if}
            <p class="ow_small ow_stdmargin ow_remark">{format_date timestamp=$photo->addDatetime}</p>
        </div>
            
        <div class="ow_right ow_supernarrow">
            {block_decorator name='box' type='empty' capEnabled=false addClass='ow_break_word ow_stdmargin clearfix'}
                {decorator name='avatar_item' data=$avatar}
                <div class="ow_photo_info_name">
                    <a href="{$avatar.url}">{$avatar.title}</a>
                </div>
            {/block_decorator}
            
        </div>
        <div class="clr"></div>
        <div class="ow_left ow_superwide ow_break_word">
        	 {$comments}
        </div>
        
        <div class="ow_right ow_supernarrow">
                    {block_decorator name='box' type='empty' capEnabled=false addClass='ow_break_word ow_stdmargin'}
                {$rate}
            {/block_decorator}

            {block_decorator name='box' type='empty' capEnabled=false addClass='ow_break_word ow_stdmargin'}
                {$tags}
            {/block_decorator}

        </div>
        
    </div>      
</div>

</div>